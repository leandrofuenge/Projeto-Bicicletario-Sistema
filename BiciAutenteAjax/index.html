<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend HTML</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<h2>Cadastro de Usuários</h2>
<form id="criarUsuarioForm">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nomeCompleto" required>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <button type="submit">Criar Usuário</button>
</form>

<h2>Obter Todos os Usuários</h2>
<button id="obterTodosUsuarios">Obter Todos</button>
<div id="todosUsuarios"></div>

<script>
    $(document).ready(function () {
        // Função para criar um novo usuário
        $("#criarUsuarioForm").submit(function (event) {
            event.preventDefault();
            const formData = $(this).serialize();
            $.post("/usuarios/criar", formData, function (response) {
                alert("Novo usuário criado com sucesso!");
                console.log(response);
            }).fail(function (error) {
                alert("Erro ao criar novo usuário!");
                console.log(error);
            });
        });

        // Função para obter todos os usuários
        $("#obterTodosUsuarios").click(function () {
            $.get("/usuarios/todos", function (usuarios) {
                let usuariosHtml = "<ul>";
                usuarios.forEach(function (usuario) {
                    usuariosHtml += "<li>" + usuario.nomeCompleto + " - " + usuario.email + " - " + usuario.creditosRestantes + " - " + usuario.cpf +  " - " + usuario.rg + " - " + usuario.dataDeNascimento + " - " + usuario.sexo + " - " + usuario.cep + " - " + usuario.endereco + " - " + usuario.numero + " - " + usuario.bairro + " - " + usuario.cidade + " - " + usuario.estado + " - " + usuario.numeroDeSerieBicicleta + " - " + usuario.corDaBicicleta + " - " + usuario.celular + "</li>";
                });

                usuariosHtml += "</ul>";
                $("#todosUsuarios").html(usuariosHtml);
            }).fail(function (error) {
                console.log(error);
                alert("Erro ao obter todos os usuários!");
            });
        });
    });
</script>
</body>
</html>
